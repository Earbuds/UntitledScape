



package DavidScape.world.mapdata;


import java.io.BufferedReader;
import java.io.FileReader;
import java.io.File;

import untitledscape.util.Misc;


public class MapData {

    /**
     * Each list contains the region and 4 pieces of data.
     */
    public MapList[] mapLists = new MapList[20000];

    /**
     * Constructs a new MapData class.
     */
    public MapData() {
        loadRegions();
    }
public int[] getMapData(int region) {
	MapList list = mapLists[region];
	return list.data;
}
    /**
     * Load the map data into memory for faster load time.
     */
    public void loadRegions() {
        int curId = 0;

        for (int i = 0; i < 16000; i++) {
if ((i != 12351) && (i != 12352)){
            try {
                File file = new File("./data/mapdata/" + i + ".txt");

                if (file.exists()) {
                    MapList list = mapLists[i] = new MapList();
                    BufferedReader in = new BufferedReader(
                            new FileReader("./data/mapdata/" + i + ".txt"));
                    String str;
                    int regionId = 0;

                    list.region = i;
                    while ((str = in.readLine()) != null) {
                        if (!str.equals("")) {
                            list.data[regionId++] = Integer.parseInt(str.trim());
                        }
                    }
                    in.close();
                    in = null;
                }
                file = null;
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
    }
}

    /**
     * Returns the four pieces of map data from a region.
     * @param myRegion The region to get data from.
     * @return Returns the four mapdata.
     */
    public int[] getData(int myRegion) {
        for (MapList list : mapLists) {
            if (list == null) {
                continue;
            }
            if (list.region == myRegion) {
                return list.data;
            }
        }
        Misc.println("Missing map data: " + myRegion);
        return new int[4];
    }
}